<!DOCTYPE html>
<html lang="en">
<head>
    <title>jQuery Mobile Image Popup Gallery</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- jQuery Mobile CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    
    <!-- jQuery Mobile JS -->
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    

</head>

<body>
    <div data-role="page" id="gallery-page">
        <!-- Header -->
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="index.html" class="ui-btn ui-corner-all ui-icon-back ui-btn-icon-left ui-btn-back">Back</a>
            <h1><i class="ui-icon-camera"></i> Image Gallery</h1>
        </div>

        <!-- Main Content -->
        <div role="main" class="ui-content">
            <h2 class="gallery-title">Popup Image Gallery</h2>
            <p style="text-align: center; color: #666; margin-bottom: 30px;">
                Click on any thumbnail to view the full-size image
            </p>
            
            <!-- Image 1: Irene -->
            <div class="thumbnail-container">
                <a href="#popupkrishna" data-rel="popup" data-position-to="window" data-transition="fade" class="thumbnail">
                    <img src="sacnahon.jpg" alt="Krishna">
                    <div style="padding: 5px; background: #f5f5f5; font-size: 12px; color: #333;">Krishna Mae Sacnahon</div>
                </a>
            </div>
            
            <!-- Image 2: Anime -->
            <div class="thumbnail-container">
                <a href="#popupanime" data-rel="popup" data-position-to="window" data-transition="fade" class="thumbnail">
                    <img src="maki.jpg" alt="Anime">
                    <div style="padding: 5px; background: #f5f5f5; font-size: 12px; color: #333;">Maki</div>
                </a>
            </div>
            
            <!-- Image 3: Family Picture -->
            <div class="thumbnail-container">
                <a href="#popupfampic" data-rel="popup" data-position-to="window" data-transition="fade" class="thumbnail">
                    <img src="#" alt="Family Picture">
                    <div style="padding: 5px; background: #f5f5f5; font-size: 12px; color: #333;">Family</div>
                </a>
            </div>
            
            <!-- Image 4: High School -->
            <div class="thumbnail-container">
                <a href="#popuphigh1" data-rel="popup" data-position-to="window" data-transition="fade" class="thumbnail">
                    <img src="#" alt="High School">
                    <div style="padding: 5px; background: #f5f5f5; font-size: 12px; color: #333;">High School</div>
                </a>
            </div>
            
            <div style="clear: both; margin-top: 30px;">
                <p style="color: #777; font-size: 13px; text-align: center;">
                    <i>Tap any image to view it in full size. Press ESC or tap outside to close.</i>
                </p>
            </div>
        </div>

        <!-- Footer -->
        <div data-role="footer" data-position="fixed" data-theme="b">
            <h4>Mobile Application Development &copy; 2023</h4>
        </div>

        <!-- Popup 1: Irene -->
        <div data-role="popup" id="popupkrishna" class="popup-container" data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">Close</a>
            <img class="popup-image" src="sacnahon.jpg" alt="Krishna">
            <div class="image-caption">Krishna Mae Sacnahon</div>
        </div>

        <!-- Popup 2: Anime -->
        <div data-role="popup" id="popupanime" class="popup-container" data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">Close</a>
            <img class="popup-image" src="maki.jpg" alt="Anime">
            <div class="image-caption">Chainsawman</div>
        </div>

        <!-- Popup 3: Family Picture -->
        <div data-role="popup" id="popupfampic" class="popup-container" data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">Close</a>
            <img class="popup-image" src="#" alt="Family Picture">
            <div class="image-caption">Family </div>
        </div>

        <!-- Popup 4: High School -->
        <div data-role="popup" id="popuphigh1" class="popup-container" data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">Close</a>
            <img class="popup-image" src="#" alt="High School Memories">
            <div class="image-caption">High School Days </div>
        </div>
    </div>

    <script>
        // Initialize jQuery Mobile
        $(document).on("pagecreate", "#gallery-page", function() {
            // Set default page transition
            $.mobile.defaultPageTransition = "fade";
            
            // Enhance popup functionality
            $(".thumbnail").on("click", function() {
                // Add active class for visual feedback
                $(this).parent().addClass("active");
                
                // Remove active class after popup closes
                $(document).on("popupafterclose", function() {
                    $(".thumbnail-container").removeClass("active");
                });
            });
            
            // Keyboard navigation support
            $(document).on("keyup", function(e) {
                if (e.keyCode === 27) { // ESC key
                    $(".ui-popup-active").popup("close");
                }
            });
        });
        
        // Handle image loading errors
        $(document).on("pageinit", function() {
            $(".popup-image").on("error", function() {
                var altText = $(this).attr("alt") || "Image";
                $(this).replaceWith(
                    '<div style="padding: 40px; color: white; text-align: center;">' +
                    '<p><i class="ui-icon-alert" style="font-size: 48px;"></i></p>' +
                    '<p>Failed to load: ' + altText + '</p>' +
                    '<p style="font-size: 12px;">Check the image path: ' + $(this).attr("src") + '</p>' +
                    '</div>'
                );
            });
        });
    </script>
</body>
</html>